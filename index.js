var _0x5834=['toString','data','icestats','artist','title','send','SET_ACTIVITY','pause','play','Now\x20Playing:\x20','RpcToPause','Paused','RpcToPlay','startServer','./modules/windows.js','./modules/backend/index.js','./modules/rpc/index.js','./modules/util.js','electron','./config.json','createFromPath','public','img','icon.png','setValues','ready','activate','createWindow','window-all-closed','See\x20you\x20next\x20time!','exit','openAbout','openAboutWin','openOptions','openOptWin','rpc','enabled','n/a','getTime','clientId'];(function(_0x4eea20,_0x21c21d){var _0x46d9a1=function(_0x2f646d){while(--_0x2f646d){_0x4eea20['push'](_0x4eea20['shift']());}};_0x46d9a1(++_0x21c21d);}(_0x5834,0x1c6));var _0x4c1e=function(_0x34839c,_0x2dea77){_0x34839c=_0x34839c-0x0;var _0xeae797=_0x5834[_0x34839c];return _0xeae797;};const {join}=require('path');const windows=require(_0x4c1e('0x0'));const backend=require(_0x4c1e('0x1'));const DiscordRPC=require(_0x4c1e('0x2'));const {notify,getStats,rpcStatus}=require(_0x4c1e('0x3'));const {app,nativeImage,BrowserWindow,ipcMain}=require(_0x4c1e('0x4'));let win;let tray;let config=require(_0x4c1e('0x5'));const icon=nativeImage[_0x4c1e('0x6')](join(__dirname,_0x4c1e('0x7'),'assets',_0x4c1e('0x8'),_0x4c1e('0x9')));windows[_0x4c1e('0xa')](win,icon,tray,config,BrowserWindow);app['on'](_0x4c1e('0xb'),()=>win=windows['createMainWindow']());app['on'](_0x4c1e('0xc'),()=>win===null?win=windows[_0x4c1e('0xd')]():undefined);app['on'](_0x4c1e('0xe'),()=>{app['quit']();notify(_0x4c1e('0xf'));process[_0x4c1e('0x10')](0x3);});ipcMain['on'](_0x4c1e('0x11'),windows[_0x4c1e('0x12')]);ipcMain['on'](_0x4c1e('0x13'),windows[_0x4c1e('0x14')]);if(config[_0x4c1e('0x15')][_0x4c1e('0x16')]){let playing=![];let currentSong={'artist':_0x4c1e('0x17'),'title':'n/a'};const timestamp=new Date()[_0x4c1e('0x18')]();const uRPC=new DiscordRPC({'clientID':config[_0x4c1e('0x15')][_0x4c1e('0x19')][_0x4c1e('0x1a')](),'debug':!![]});const setActivity=async()=>{const _0x5807fd=await getStats();let _0x14f0a5=_0x5807fd[_0x4c1e('0x1b')][_0x4c1e('0x1c')]['source'][0x0];if(_0x14f0a5===undefined)_0x14f0a5=_0x5807fd[_0x4c1e('0x1b')][_0x4c1e('0x1c')]['source'];const _0x19f22d={'artist':_0x14f0a5[_0x4c1e('0x1d')],'title':_0x14f0a5[_0x4c1e('0x1e')]};if(_0x19f22d!==currentSong&&playing===![]){currentSong=_0x19f22d;uRPC[_0x4c1e('0x1f')](_0x4c1e('0x20'),rpcStatus(_0x4c1e('0x21'),timestamp));}else if(_0x19f22d!==currentSong&&playing===!![]){currentSong=_0x19f22d;uRPC['send'](_0x4c1e('0x20'),rpcStatus(_0x4c1e('0x22'),timestamp,_0x19f22d));notify(_0x4c1e('0x23')+_0x19f22d);}ipcMain['on'](_0x4c1e('0x24'),()=>{playing=![];uRPC[_0x4c1e('0x1f')]('SET_ACTIVITY',rpcStatus(_0x4c1e('0x21'),timestamp));notify(_0x4c1e('0x25'));});ipcMain['on'](_0x4c1e('0x26'),()=>{playing=!![];uRPC['send'](_0x4c1e('0x20'),rpcStatus(_0x4c1e('0x22'),timestamp,_0x19f22d));notify(_0x4c1e('0x23')+_0x19f22d);});};uRPC['on']('ready',()=>{setActivity();setInterval(setActivity,0x3a98);});}if(config['server'][_0x4c1e('0x16')]){backend[_0x4c1e('0x27')]();}