var _0x582d=['See\x20you\x20next\x20time!','public/about.html','preventDefault','Error:\x20Failed\x20to\x20write\x20config','bFJJc','stringify','config.json','error','openAbout','editRpc','rpc','AOLvV','editNtf','FkiFY','EXbNq','You\x20need\x20to\x20restart\x20qtradio.moe\x20for\x20making\x20the\x20change\x20effective!','openOptions','public/options.html','eGcND','504360789038333963','ipc','GET','application/json','0.0.0.0','then','json','message','nowPlaying','bbhKx','hswYA','setActivity','Paused\x20Qt\x20Radio','Idle','qtradio','Qt\x20Radio\x20Desktop\x20App','pause','Pause','Listening\x20to\x20Qt\x20Radio','play','Playing','Now\x20Playing:\x20','RpcToPause','uCsTr','login','catch','log','node-fetch','node-notifier','discord-rpc','path','./config.json','notifier','notify','qtradio.moe','assets/img/icon.png','createFromPath','loadFile','cQOpD','tray','buildFromTemplate','Hide','close','isQuiting','destroy','Options','setContextMenu','setToolTip','qPxkL','oUlIU','hide','show','setHighlightMode','always','closed','ready','window-all-closed','quit'];(function(_0x1c0318,_0x5bf843){var _0x12eee4=function(_0x3f3984){while(--_0x3f3984){_0x1c0318['push'](_0x1c0318['shift']());}};var _0x6df107=function(){var _0x22b156={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x2a2b45,_0x3f6f63,_0x13dae1,_0x461ff0){_0x461ff0=_0x461ff0||{};var _0x3b5748=_0x3f6f63+'='+_0x13dae1;var _0x3ef0a6=0x0;for(var _0x3ef0a6=0x0,_0x171aff=_0x2a2b45['length'];_0x3ef0a6<_0x171aff;_0x3ef0a6++){var _0x146ea3=_0x2a2b45[_0x3ef0a6];_0x3b5748+=';\x20'+_0x146ea3;var _0x23b1fb=_0x2a2b45[_0x146ea3];_0x2a2b45['push'](_0x23b1fb);_0x171aff=_0x2a2b45['length'];if(_0x23b1fb!==!![]){_0x3b5748+='='+_0x23b1fb;}}_0x461ff0['cookie']=_0x3b5748;},'removeCookie':function(){return'dev';},'getCookie':function(_0x81291d,_0x2bb030){_0x81291d=_0x81291d||function(_0x5bc74c){return _0x5bc74c;};var _0x32da9c=_0x81291d(new RegExp('(?:^|;\x20)'+_0x2bb030['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x138e52=function(_0x18ea3c,_0x373be1){_0x18ea3c(++_0x373be1);};_0x138e52(_0x12eee4,_0x5bf843);return _0x32da9c?decodeURIComponent(_0x32da9c[0x1]):undefined;}};var _0x56523c=function(){var _0x181f22=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x181f22['test'](_0x22b156['removeCookie']['toString']());};_0x22b156['updateCookie']=_0x56523c;var _0x2b0b8f='';var _0x1ca787=_0x22b156['updateCookie']();if(!_0x1ca787){_0x22b156['setCookie'](['*'],'counter',0x1);}else if(_0x1ca787){_0x2b0b8f=_0x22b156['getCookie'](null,'counter');}else{_0x22b156['removeCookie']();}};_0x6df107();}(_0x582d,0x162));var _0x389d=function(_0x5276b7,_0x5a3e77){_0x5276b7=_0x5276b7-0x0;var _0x3833c2=_0x582d[_0x5276b7];return _0x3833c2;};var _0x2d0478=function(){var _0x9fc34b=!![];return function(_0x637b1b,_0x3483d2){var _0x5b8132=_0x9fc34b?function(){if(_0x3483d2){var _0x1cd8e1=_0x3483d2['apply'](_0x637b1b,arguments);_0x3483d2=null;return _0x1cd8e1;}}:function(){};_0x9fc34b=![];return _0x5b8132;};}();var _0x376903=_0x2d0478(this,function(){var _0x3e6527=function(){return'\x64\x65\x76';},_0x4d3f28=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x58c938=function(){var _0x398a7c=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x398a7c['\x74\x65\x73\x74'](_0x3e6527['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x5b5d63=function(){var _0x2c4149=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x2c4149['\x74\x65\x73\x74'](_0x4d3f28['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x25193f=function(_0x4466dd){var _0xb5248=~-0x1>>0x1+0xff%0x0;if(_0x4466dd['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0xb5248)){_0x27749c(_0x4466dd);}};var _0x27749c=function(_0x116f2a){var _0x2aa4e6=~-0x4>>0x1+0xff%0x0;if(_0x116f2a['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x2aa4e6){_0x25193f(_0x116f2a);}};if(!_0x58c938()){if(!_0x5b5d63()){_0x25193f('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x25193f('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x25193f('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x376903();
/**
 * @name DeskQT
 * @author qtradio development team
 * @license Closed-Sauce
 * @description very qt
 */

// Note: if you are reading this, go away. this is top secret qt codes

const fetch=require(_0x389d('0x0'));const notifier=require(_0x389d('0x1'));const {Client,register}=require(_0x389d('0x2'));const {app,BrowserWindow,Tray,Menu,ipcMain,nativeImage}=require('electron');const {writeFile}=require('fs');const {join}=require(_0x389d('0x3'));let config=require(_0x389d('0x4'));function notify(_0x4f8d95){if(config[_0x389d('0x5')]===!![]){notifier[_0x389d('0x6')]({'title':_0x389d('0x7'),'message':_0x4f8d95});}}const iconPath=join(__dirname,_0x389d('0x8'));const appIcon=nativeImage[_0x389d('0x9')](iconPath);let win;const createWindow=()=>{win=new BrowserWindow({'width':0x320,'height':0x258,'icon':appIcon,'frame':![]});win[_0x389d('0xa')]('public/index.html');function _0x308587(){if(_0x389d('0xb')==='Ferkk'){openOptionWin();}else{if(!config[_0x389d('0xc')])return;let _0x202fdd=new Tray(appIcon);let _0x30f5df=Menu[_0x389d('0xd')]([{'label':'Show','click':function(){win['show']();}},{'label':_0x389d('0xe'),'click':function(){win[_0x389d('0xf')]();}},{'label':'Quit','click':function(){app[_0x389d('0x10')]=!![];_0x202fdd[_0x389d('0x11')]();process['exit'](0x3);}},{'label':_0x389d('0x12'),'click':function(){openOptionWin();}}]);_0x202fdd[_0x389d('0x13')](_0x30f5df);_0x202fdd[_0x389d('0x14')](_0x389d('0x7'));return _0x202fdd;}}_0x308587();win['on'](_0x389d('0xf'),function(_0x26afe4){_0x26afe4['preventDefault']();if(config[_0x389d('0xc')]){if(_0x389d('0x15')!==_0x389d('0x16')){win[_0x389d('0x17')]();}else{openOptionWin();}}else if(!config[_0x389d('0xc')]){app[_0x389d('0x10')]=!![];win[_0x389d('0xf')]();}});win['on'](_0x389d('0x18'),function(){tray[_0x389d('0x19')](_0x389d('0x1a'));});win['on'](_0x389d('0x1b'),()=>win=null);};app['on'](_0x389d('0x1c'),createWindow);app['on']('activate',()=>win===null?createWindow():undefined);app['on'](_0x389d('0x1d'),()=>{app[_0x389d('0x1e')]();notify(_0x389d('0x1f'));process['exit'](0x3);});let aboutWin;let aboutWinOpen=![];function openAboutWin(){if(aboutWinOpen)return;aboutWin=new BrowserWindow({'width':0x190,'height':0x1e0,'icon':appIcon,'frame':![]});aboutWin[_0x389d('0xa')](_0x389d('0x20'));aboutWinOpen=!![];aboutWin['on'](_0x389d('0xf'),function(_0x39bf0c){if('vJPZD'==='vJPZD'){_0x39bf0c[_0x389d('0x21')]();aboutWin[_0x389d('0x17')]();aboutWinOpen=![];}else{if(err){notify(_0x389d('0x22'));console['error'](err);}}});aboutWin['on'](_0x389d('0x18'),function(){if(_0x389d('0x23')===_0x389d('0x23')){tray[_0x389d('0x19')]('always');}else{config[_0x389d('0x5')]=value;let _0x460ab7=JSON[_0x389d('0x24')](config,null,0x2);writeFile(_0x389d('0x25'),_0x460ab7,_0x3f817e=>{if(_0x3f817e){notify(_0x389d('0x22'));console[_0x389d('0x26')](_0x3f817e);}});}});aboutWin['on']('closed',()=>aboutWin=null);}ipcMain['on'](_0x389d('0x27'),_0x159f10=>{openAboutWin();});let optWin;let optWinOpen=![];ipcMain['on'](_0x389d('0x28'),(_0x1212e3,_0x34cf9d)=>{config[_0x389d('0x29')]=_0x34cf9d;let _0x381958=JSON['stringify'](config,null,0x2);writeFile(_0x389d('0x25'),_0x381958,_0x5457c4=>{if(_0x389d('0x2a')!==_0x389d('0x2a')){if(config['notifier']===!![]){notifier['notify']({'title':'qtradio.moe','message':msg});}}else{if(_0x5457c4){notify('Error:\x20Failed\x20to\x20write\x20config');console[_0x389d('0x26')](_0x5457c4);}}});notify('You\x20need\x20to\x20restart\x20qtradio.moe\x20for\x20making\x20the\x20change\x20effective!');});ipcMain['on'](_0x389d('0x2b'),(_0x131baf,_0x438209)=>{config['notifier']=_0x438209;let _0x524670=JSON['stringify'](config,null,0x2);writeFile('config.json',_0x524670,_0x4a6c5f=>{if(_0x4a6c5f){if(_0x389d('0x2c')===_0x389d('0x2d')){_0x131baf[_0x389d('0x21')]();aboutWin['hide']();aboutWinOpen=![];}else{notify(_0x389d('0x22'));console[_0x389d('0x26')](_0x4a6c5f);}}});});ipcMain['on']('editTray',(_0x367027,_0x179373)=>{config[_0x389d('0xc')]=_0x179373;let _0x320916=JSON[_0x389d('0x24')](config,null,0x2);writeFile(_0x389d('0x25'),_0x320916,_0x2a4e3e=>{if(_0x2a4e3e){notify(_0x389d('0x22'));console[_0x389d('0x26')](_0x2a4e3e);}});notify(_0x389d('0x2e'));});ipcMain['on'](_0x389d('0x2f'),_0x9c98c3=>{openOptionWin();});function openOptionWin(){if(optWinOpen)return;optWin=new BrowserWindow({'width':0x190,'height':0x190,'icon':appIcon,'frame':![]});optWin[_0x389d('0xa')](_0x389d('0x30'));optWinOpen=!![];optWin['on'](_0x389d('0xf'),function(_0xc65597){if('jubBW'!==_0x389d('0x31')){_0xc65597[_0x389d('0x21')]();optWin['hide']();optWinOpen=![];}else{app['isQuiting']=!![];win[_0x389d('0xf')]();}});optWin['on'](_0x389d('0x18'),function(){tray[_0x389d('0x19')](_0x389d('0x1a'));});optWin['on'](_0x389d('0x1b'),()=>optWin=null);}if(config['rpc']===!![]){let playingMoosic=![];const clientId=_0x389d('0x32');register(clientId);const rpc=new Client({'transport':_0x389d('0x33')});const startTimestamp=new Date();let currentSong;const setActivity=async()=>{if(!rpc||!win)return;const _0x287060={'method':_0x389d('0x34'),'headers':{'Content-Type':_0x389d('0x35'),'x-forwarded-for':_0x389d('0x36')}};const _0x5f2e0c='http://64.190.90.143:9090/getSongData';const _0x56a9a5=await fetch(_0x5f2e0c,_0x287060)[_0x389d('0x37')](_0x5604cc=>_0x5604cc[_0x389d('0x38')]())[_0x389d('0x37')](_0x56a9a5=>_0x56a9a5);if(_0x56a9a5[_0x389d('0x39')][_0x389d('0x3a')]!==currentSong&&playingMoosic===![]){if(_0x389d('0x3b')!==_0x389d('0x3c')){currentSong=_0x56a9a5[_0x389d('0x39')][_0x389d('0x3a')];rpc[_0x389d('0x3d')]({'details':_0x389d('0x3e'),'state':_0x389d('0x3f'),'largeImageKey':_0x389d('0x40'),'largeImageText':_0x389d('0x41'),'smallImageKey':_0x389d('0x42'),'smallImageText':_0x389d('0x43'),'instance':![],'startTimestamp':startTimestamp});}else{if(err){notify(_0x389d('0x22'));console[_0x389d('0x26')](err);}}}else if(_0x56a9a5['message'][_0x389d('0x3a')]!==currentSong&&playingMoosic===!![]){currentSong=_0x56a9a5['message']['nowPlaying'];rpc[_0x389d('0x3d')]({'details':_0x389d('0x44'),'state':'Now\x20Playing:\x20'+_0x56a9a5[_0x389d('0x39')][_0x389d('0x3a')],'largeImageKey':_0x389d('0x40'),'largeImageText':_0x389d('0x41'),'smallImageKey':_0x389d('0x45'),'smallImageText':_0x389d('0x46'),'instance':![],'startTimestamp':startTimestamp});notify(_0x389d('0x47')+_0x56a9a5[_0x389d('0x39')]['nowPlaying']);}ipcMain['on']('RpcToPlay',_0x2bccf2=>{rpc[_0x389d('0x3d')]({'details':_0x389d('0x44'),'state':_0x389d('0x47')+_0x56a9a5[_0x389d('0x39')][_0x389d('0x3a')],'largeImageKey':_0x389d('0x40'),'largeImageText':_0x389d('0x41'),'smallImageKey':_0x389d('0x45'),'smallImageText':_0x389d('0x46'),'instance':![],'startTimestamp':startTimestamp});playingMoosic=!![];});ipcMain['on'](_0x389d('0x48'),_0x18cf6a=>{if(_0x389d('0x49')==='uCsTr'){rpc[_0x389d('0x3d')]({'details':_0x389d('0x3f'),'state':_0x389d('0x47')+_0x56a9a5[_0x389d('0x39')][_0x389d('0x3a')],'largeImageKey':_0x389d('0x40'),'largeImageText':_0x389d('0x41'),'smallImageKey':_0x389d('0x42'),'smallImageText':'Paused','instance':![],'startTimestamp':startTimestamp});playingMoosic=![];}else{if(aboutWinOpen)return;aboutWin=new BrowserWindow({'width':0x190,'height':0x1e0,'icon':appIcon,'frame':![]});aboutWin[_0x389d('0xa')](_0x389d('0x20'));aboutWinOpen=!![];aboutWin['on'](_0x389d('0xf'),function(_0x2973f3){_0x2973f3[_0x389d('0x21')]();aboutWin[_0x389d('0x17')]();aboutWinOpen=![];});aboutWin['on'](_0x389d('0x18'),function(){tray[_0x389d('0x19')](_0x389d('0x1a'));});aboutWin['on'](_0x389d('0x1b'),()=>aboutWin=null);}});};rpc['on']('ready',()=>{setActivity();setInterval(()=>setActivity(),0x3a98);});rpc[_0x389d('0x4a')]({'clientId':clientId})[_0x389d('0x4b')](_0x65ed4=>{notify('Error:\x20Failed\x20to\x20start\x20Discord\x20RPC');console[_0x389d('0x4c')](_0x65ed4);});}