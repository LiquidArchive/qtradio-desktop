var _0x4e75=['homedir','/qtconfig.json','stringify','activate','createWindow','window-all-closed','quit','See\x20you\x20next\x20time!','openAbout','openOptions','rpc','enabled','clientId','toString','body','icestats','source','title','send','SET_ACTIVITY','play','Now\x20Playing:\x20','RpcToPause','pause','Paused','ready','server','./modules/windows.js','path','./modules/util.js','electron','public','assets','img','icon.png'];(function(_0x5e56aa,_0x51c3db){var _0x215e37=function(_0x485ac8){while(--_0x485ac8){_0x5e56aa['push'](_0x5e56aa['shift']());}};_0x215e37(++_0x51c3db);}(_0x4e75,0xed));var _0x4310=function(_0x3d8db3,_0x2d38b9){_0x3d8db3=_0x3d8db3-0x0;var _0x106bc3=_0x4e75[_0x3d8db3];return _0x106bc3;};const windows=require(_0x4310('0x0'));const backend=require('./modules/backend/index.js');const {join}=require(_0x4310('0x1'));const DiscordRPC=require('./modules/rpc/index.js');const {existsSync,writeFileSync}=require('fs');const {notify,getStats,rpcStatus,getConfig}=require(_0x4310('0x2'));const {app,nativeImage,BrowserWindow,ipcMain}=require(_0x4310('0x3'));let win;let tray;let config=require('./config.json');const icon=nativeImage['createFromPath'](join(__dirname,_0x4310('0x4'),_0x4310('0x5'),_0x4310('0x6'),_0x4310('0x7')));windows['setValues'](win,icon,tray,config,BrowserWindow);const homedir=require('os')[_0x4310('0x8')]();const sample={'notifier':![],'tray':!![],'rpc':!![],'server':!![]};if(!existsSync(homedir+_0x4310('0x9')))writeFileSync(homedir+_0x4310('0x9'),JSON[_0x4310('0xa')](sample));let config2=require(getConfig());app['on']('ready',()=>win=windows['createMainWindow']());app['on'](_0x4310('0xb'),()=>win===null?win=windows[_0x4310('0xc')]():undefined);app['on'](_0x4310('0xd'),()=>{app[_0x4310('0xe')]();notify(_0x4310('0xf'));process['exit'](0x3);});ipcMain['on'](_0x4310('0x10'),windows['openAboutWin']);ipcMain['on'](_0x4310('0x11'),windows['openOptWin']);if(config2[_0x4310('0x12')][_0x4310('0x13')]){let playing=![];let currentSong={'artist':'n/a','title':'n/a'};const timestamp=new Date()['getTime']();const uRPC=new DiscordRPC({'clientID':config[_0x4310('0x12')][_0x4310('0x14')][_0x4310('0x15')](),'debug':![]});const setActivity=async()=>{const _0xedfb92=await getStats();const _0x1f661f=JSON['parse'](_0xedfb92[_0x4310('0x16')]);let _0x5c96bb=_0x1f661f[_0x4310('0x17')][_0x4310('0x18')][0x0];if(_0x5c96bb===undefined)_0x5c96bb=_0x1f661f[_0x4310('0x17')][_0x4310('0x18')];const _0x4ab4d2={'artist':_0x5c96bb['artist'],'title':_0x5c96bb[_0x4310('0x19')]};if(_0x4ab4d2!==currentSong&&playing===![]){currentSong=_0x4ab4d2;uRPC[_0x4310('0x1a')](_0x4310('0x1b'),rpcStatus('pause',timestamp));}else if(_0x4ab4d2!==currentSong&&playing===!![]){currentSong=_0x4ab4d2;uRPC[_0x4310('0x1a')](_0x4310('0x1b'),rpcStatus(_0x4310('0x1c'),timestamp,_0x4ab4d2));notify(_0x4310('0x1d')+_0x4ab4d2);}ipcMain['on'](_0x4310('0x1e'),()=>{playing=![];uRPC[_0x4310('0x1a')](_0x4310('0x1b'),rpcStatus(_0x4310('0x1f'),timestamp));notify(_0x4310('0x20'));});ipcMain['on']('RpcToPlay',()=>{playing=!![];uRPC[_0x4310('0x1a')](_0x4310('0x1b'),rpcStatus('play',timestamp,_0x4ab4d2));notify(_0x4310('0x1d')+_0x4ab4d2);});};uRPC['on'](_0x4310('0x21'),()=>{setActivity();setInterval(setActivity,0x3a98);});}if(config2[_0x4310('0x22')][_0x4310('0x13')])backend();